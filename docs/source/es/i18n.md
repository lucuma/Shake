title: API de internacionalización (i18n)
template: page.html
index: 1

<div class=header markdown=1>
# API de internacionalización (i18n)

El módulo de i18n (abreviación de internacionalización) que viene con Shake (a partir de la versión 1.2) provee una plataforma fácil de usar para darle soporte multi-lenguaje a tu aplicación.

El proceso de “internacionalización” normalmente significa abstraer todos los textos y otros detalles locales (como fechas y formatos de moneda) fuera de tu aplicación para poder “localizarlos”.

En resumen, para internacionalizar tu aplicación tienes que:

* Extraer tus textos en archivos externos, separados por idioma.
* Decirle a Shake donde buscar estos textos.
* Indicar a tu aplicación que idioma usar al mostar una página.

Esta guía te muestra como trabajar con el API de i18n y contiene un tutorial para internacionalizar tu aplicación desde cero.
</div>


## 1. Como funciona la i18n en Shake

La internacionalización es un problema complejo. Los lenguajes naturales difieren de tantas formas (por ejemplo en sus reglas de como formar plurales) que es dificil crear una herramienta para solucionar todos los problemas de una vez.  Por eso el API de i18n de Shake se enfoca en:

* dar soporte al Inglés y leguajes similares (como el español).
* ser personalizable para otros lenguajes.
* apoyarse en otras librerías (como las excelentes _Babel_ y _pytz_, para la localización de fechas, números y otros).


## 1.1 Arquitectura general

El API de i18n de Shake está dividido en dos:

* El sistema de traducción de textos
* Una interfaz para la localización de fechas, números, etc.

por lo que los métodos más importantes son:

```python
translate   # Encuentra la traducción de un texto
format      # Localiza un valor
```

En las plantillas están definidas como la variable global `t` y el filtro `format`, para que puedas usarlas de esta forma:

```jinja
{{ t('store.title') }}
{{ now|format }}
```

`'format'` intenta localizar el valor usando las opciones por defecto según el tipo de dato detectado. Sin embargo, puedes ser más directo y usar estos otros filtros:

```jinja
{{ val|datetimeformat }}
{{ val|dateformat }}
{{ val|timeformat }}
{{ val|timedeltaformat }}
{{ val|numberformat }}
{{ val|decimalformat }}
{{ val|currencyformat }}
{{ val|percentformat }}
{{ val|scientificformat }}
```

Veremos los detalles de estos métodos en los siguientes capítulos. Ahora, internacionalizemos una aplicación Shake desde cero!



